<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bonus Track - Mi Portafolio Digital</title>
    <link rel="icon" type="image/png" href="img/Bonus.png">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Navegación de regreso -->
    <nav class="nav-materia">
        <a href="index.html" class="btn-volver">← Volver al Portafolio</a>
    </nav>

    <!-- Header de Bonus Track -->
    <header class="header-materia">
        <div class="contenedor">
            <div class="info-materia">
                <img src="img/Bonus.png" alt="Bonus Track" class="icono-materia">
                <div class="texto-materia">
                    <h1>Bonus Track: Experiencias del Año</h1>
                    <p class="descripcion-materia">
                        Galería de Recuerdos y Vivencias que hicieron del
                        primer año una experiencia inolvidable.
                    </p>
                </div>
            </div>
        </div>
    </header>

    <!-- Contenido principal -->
    <main class="contenido-materia">
        <div class="contenedor">
            
            <!-- Sección Bautismo -->
            <section class="seccion-contenido galeria-seccion">
                <h2>Bautismo</h2>

                <div class="galeria-carousel">
                    <button class="slider-btn slider-prev" aria-label="Anterior imagen">‹</button>

                    <div class="slider-viewport" tabindex="0" aria-live="polite">
                        <div class="slider-track">
                            <figure class="galeria-item"><img src="img/Bonus/Bautismo1.jpg" alt="Bautismo 1" loading="lazy"></figure>
                            <figure class="galeria-item"><img src="img/Bonus/Bautismo2.jpg" alt="Bautismo 2" loading="lazy"></figure>
                            <figure class="galeria-item"><img src="img/Bonus/Bautismo3.jpg" alt="Bautismo 3" loading="lazy"></figure>
                            <figure class="galeria-item"><img src="img/Bonus/Bautismo4.jpg" alt="Bautismo 4" loading="lazy"></figure>
                            <figure class="galeria-item"><img src="img/Bonus/Bautismo5.jpg" alt="Bautismo 5" loading="lazy"></figure>
                        </div>
                    </div>

                    <button class="slider-btn slider-next" aria-label="Siguiente imagen">›</button>
                </div>

                <div class="galeria-thumbs" aria-hidden="true">
                    <img src="img/Bonus/Bautismo1.jpg" alt="">
                    <img src="img/Bonus/Bautismo2.jpg" alt="">
                    <img src="img/Bonus/Bautismo3.jpg" alt="">
                    <img src="img/Bonus/Bautismo4.jpg" alt="">
                    <img src="img/Bonus/Bautismo5.jpg" alt="">
                </div>

            </section>

            <!-- Jornada Técnicas de Prompting -->
            <section class="seccion-contenido galeria-seccion">
                <h2>Jornada Técnicas de Prompting</h2>
                <div class="galeria-carousel">
                    <button class="slider-btn slider-prev" aria-label="Anterior imagen">‹</button>
                    <div class="slider-viewport" tabindex="0" aria-live="polite">
                        <div class="slider-track">
                            <figure class="galeria-item"><img src="img/Bonus/Prompting1.jpg" alt="Jornada Técnicas de Prompting 1" loading="lazy"></figure>
                            <figure class="galeria-item"><img src="img/Bonus/Prompting2.jpg" alt="Jornada Técnicas de Prompting 2" loading="lazy"></figure>
                            <figure class="galeria-item"><img src="img/Bonus/Prompting3.jpg" alt="Jornada Técnicas de Prompting 3" loading="lazy"></figure>
                            <figure class="galeria-item"><img src="img/Bonus/Prompting4.jpg" alt="Jornada Técnicas de Prompting 4" loading="lazy"></figure>
                            <figure class="galeria-item"><img src="img/Bonus/Prompting5.jpg" alt="Jornada Técnicas de Prompting 5" loading="lazy"></figure>
                        </div>
                    </div>
                    <button class="slider-btn slider-next" aria-label="Siguiente imagen">›</button>
                </div>
                <div class="galeria-thumbs" aria-hidden="true">
                    <img src="img/Bonus/Prompting1.jpg" alt="">
                    <img src="img/Bonus/Prompting2.jpg" alt="">
                    <img src="img/Bonus/Prompting3.jpg" alt="">
                    <img src="img/Bonus/Prompting4.jpg" alt="">
                    <img src="img/Bonus/Prompting5.jpg" alt="">
                </div>
            </section>

            <!-- Peña de Colectividades -->
            <section class="seccion-contenido galeria-seccion">
                <h2>Peña de Colectividades</h2>
                <div class="galeria-carousel">
                    <button class="slider-btn slider-prev" aria-label="Anterior imagen">‹</button>
                    <div class="slider-viewport" tabindex="0" aria-live="polite">
                        <div class="slider-track">
                            <figure class="galeria-item"><img src="img/Bonus/Colectividades1.jpg" alt="Peña de Colectividades 1" loading="lazy"></figure>
                            <figure class="galeria-item"><img src="img/Bonus/Colectividades2.jpg" alt="Peña de Colectividades 2" loading="lazy"></figure>
                            <figure class="galeria-item"><img src="img/Bonus/Colectividades3.jpg" alt="Peña de Colectividades 3" loading="lazy"></figure>
                            <figure class="galeria-item"><img src="img/Bonus/Colectividades4.jpg" alt="Peña de Colectividades 4" loading="lazy"></figure>
                            <figure class="galeria-item"><img src="img/Bonus/Colectividades5.jpg" alt="Peña de Colectividades 5" loading="lazy"></figure>
                        </div>
                    </div>
                    <button class="slider-btn slider-next" aria-label="Siguiente imagen">›</button>
                </div>
                <div class="galeria-thumbs" aria-hidden="true">
                    <img src="img/Bonus/Colectividades1.jpg" alt="">
                    <img src="img/Bonus/Colectividades2.jpg" alt="">
                    <img src="img/Bonus/Colectividades3.jpg" alt="">
                    <img src="img/Bonus/Colectividades4.jpg" alt="">
                    <img src="img/Bonus/Colectividades5.jpg" alt="">
                </div>
            </section>

            <!-- Lanzamiento manual de Grooming -->
            <section class="seccion-contenido galeria-seccion">
                <h2>Lanzamiento manual de Grooming</h2>
                <div class="galeria-carousel">
                    <button class="slider-btn slider-prev" aria-label="Anterior imagen">‹</button>
                    <div class="slider-viewport" tabindex="0" aria-live="polite">
                        <div class="slider-track">
                            <figure class="galeria-item"><img src="img/Bonus/Grooming1.jpg" alt="Grooming 1" loading="lazy"></figure>
                            <figure class="galeria-item"><img src="img/Bonus/Grooming2.jpg" alt="Grooming 2" loading="lazy"></figure>
                            <figure class="galeria-item"><img src="img/Bonus/Grooming3.jpg" alt="Grooming 3" loading="lazy"></figure>
                            <figure class="galeria-item"><img src="img/Bonus/Grooming4.jpg" alt="Grooming 4" loading="lazy"></figure>
                            <figure class="galeria-item"><img src="img/Bonus/Grooming5.jpg" alt="Grooming 5" loading="lazy"></figure>
                        </div>
                    </div>
                    <button class="slider-btn slider-next" aria-label="Siguiente imagen">›</button>
                </div>
                <div class="galeria-thumbs" aria-hidden="true">
                    <img src="img/Bonus/Grooming1.jpg" alt="">
                    <img src="img/Bonus/Grooming2.jpg" alt="">
                    <img src="img/Bonus/Grooming3.jpg" alt="">
                    <img src="img/Bonus/Grooming4.jpg" alt="">
                    <img src="img/Bonus/Grooming5.jpg" alt="">
                </div>
            </section>

            <!-- jornada de Innovación ISSC -->
            <section class="seccion-contenido galeria-seccion">
                <h2>jornada de Innovación ISSC</h2>
                <div class="galeria-carousel">
                    <button class="slider-btn slider-prev" aria-label="Anterior imagen">‹</button>
                    <div class="slider-viewport" tabindex="0" aria-live="polite">
                        <div class="slider-track">
                            <figure class="galeria-item"><img src="img/Bonus/InnovacionISSC1.jpg" alt="Innovación ISSC 1" loading="lazy"></figure>
                            <figure class="galeria-item"><img src="img/Bonus/InnovacionISSC2.jpg" alt="Innovación ISSC 2" loading="lazy"></figure>
                            <figure class="galeria-item"><img src="img/Bonus/InnovacionISSC3.jpg" alt="Innovación ISSC 3" loading="lazy"></figure>
                            <figure class="galeria-item"><img src="img/Bonus/InnovacionISSC4.jpg" alt="Innovación ISSC 4" loading="lazy"></figure>
                            <figure class="galeria-item"><img src="img/Bonus/InnovacionISSC5.jpg" alt="Innovación ISSC 5" loading="lazy"></figure>
                        </div>
                    </div>
                    <button class="slider-btn slider-next" aria-label="Siguiente imagen">›</button>
                </div>
                <div class="galeria-thumbs" aria-hidden="true">
                    <img src="img/Bonus/InnovacionISSC1.jpg" alt="">
                    <img src="img/Bonus/InnovacionISSC2.jpg" alt="">
                    <img src="img/Bonus/InnovacionISSC3.jpg" alt="">
                    <img src="img/Bonus/InnovacionISSC4.jpg" alt="">
                    <img src="img/Bonus/InnovacionISSC5.jpg" alt="">
                </div>
            </section>

            <!-- Recuerdos -->
            <section class="seccion-contenido galeria-seccion">
                <h2>Recuerdos</h2>
                <div class="galeria-carousel">
                    <button class="slider-btn slider-prev" aria-label="Anterior imagen">‹</button>
                    <div class="slider-viewport" tabindex="0" aria-live="polite">
                        <div class="slider-track">
                            <figure class="galeria-item"><img src="img/Bonus/Recuerdos1.jpg" alt="Recuerdos 1" loading="lazy"></figure>
                            <figure class="galeria-item"><img src="img/Bonus/Recuerdos2.jpg" alt="Recuerdos 2" loading="lazy"></figure>
                            <figure class="galeria-item"><img src="img/Bonus/Recuerdos3.jpg" alt="Recuerdos 3" loading="lazy"></figure>
                            <figure class="galeria-item"><img src="img/Bonus/Recuerdos4.jpg" alt="Recuerdos 4" loading="lazy"></figure>
                            <figure class="galeria-item"><img src="img/Bonus/Recuerdos5.jpg" alt="Recuerdos 5" loading="lazy"></figure>
                        </div>
                    </div>
                    <button class="slider-btn slider-next" aria-label="Siguiente imagen">›</button>
                </div>
                <div class="galeria-thumbs" aria-hidden="true">
                    <img src="img/Bonus/Recuerdos1.jpg" alt="">
                    <img src="img/Bonus/Recuerdos2.jpg" alt="">
                    <img src="img/Bonus/Recuerdos3.jpg" alt="">
                    <img src="img/Bonus/Recuerdos4.jpg" alt="">
                    <img src="img/Bonus/Recuerdos5.jpg" alt="">
                </div>
            </section>
>

>

>

        </div>
    </main>

    <!-- Footer -->
    <footer class="footer-materia">
        <div class="contenedor">
            <p>&copy; 2024 - Milagros Guerrero - Portafolio Digital</p>
        </div>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', async () => {
        try {
            const res = await fetch('img/Bonus/index.json', { cache: 'no-cache' });
            if (!res.ok) throw new Error('No se pudo cargar index.json');
            const data = await res.json();

            const cont = document.querySelector('main.contenido-materia .contenedor');
            if (!cont || !data || !Array.isArray(data.galerias)) return;

            // Limpiar todo el contenido estático (incluye líneas '>' accidentales)
            cont.innerHTML = '';

            data.galerias.forEach(g => {
                const section = document.createElement('section');
                section.className = 'seccion-contenido galeria-seccion';

                const h2 = document.createElement('h2');
                h2.textContent = g.titulo || 'Galería';
                section.appendChild(h2);

                const carousel = document.createElement('div');
                carousel.className = 'galeria-carousel';

                const btnPrev = document.createElement('button');
                btnPrev.className = 'slider-btn slider-prev';
                btnPrev.setAttribute('aria-label', 'Anterior imagen');
                btnPrev.textContent = '‹';

                const viewport = document.createElement('div');
                viewport.className = 'slider-viewport';
                viewport.setAttribute('tabindex', '0');
                viewport.setAttribute('aria-live', 'polite');

                const track = document.createElement('div');
                track.className = 'slider-track';

                const folder = (g.carpeta || '').replace(/\\/g, '/');
                const encFolder = folder.split('/').map(encodeURIComponent).join('/');

                (g.imagenes || []).forEach(nombre => {
                    const fig = document.createElement('figure');
                    fig.className = 'galeria-item';
                    const img = document.createElement('img');
                    img.loading = 'lazy';
                    img.src = encFolder + '/' + encodeURIComponent(nombre);
                    img.alt = (g.titulo ? g.titulo + ' ' : '') + nombre;
                    img.addEventListener('error', () => {
                        console.error('No se pudo cargar imagen:', img.src);
                        img.style.opacity = '0.4';
                        img.style.background = '#eee';
                        img.title = 'No se pudo cargar esta imagen';
                    });
                    fig.appendChild(img);
                    track.appendChild(fig);
                });

                viewport.appendChild(track);

                const btnNext = document.createElement('button');
                btnNext.className = 'slider-btn slider-next';
                btnNext.setAttribute('aria-label', 'Siguiente imagen');
                btnNext.textContent = '›';

                carousel.appendChild(btnPrev);
                carousel.appendChild(viewport);
                carousel.appendChild(btnNext);
                section.appendChild(carousel);

                const thumbs = document.createElement('div');
                thumbs.className = 'galeria-thumbs';
                thumbs.setAttribute('aria-hidden', 'true');
                (g.imagenes || []).forEach(nombre => {
                    const t = document.createElement('img');
                    t.src = encFolder + '/' + encodeURIComponent(nombre);
                    t.alt = '';
                    t.addEventListener('error', () => console.error('Thumb error:', t.src));
                    thumbs.appendChild(t);
                });
                section.appendChild(thumbs);

                cont.appendChild(section);
            });

            // Reinicializar carrusel existente si hay función global,
            // de lo contrario activar un deslizador básico
            if (window.initSliders) {
                try { window.initSliders(); } catch (e) { console.warn('initSliders lanzó un error', e); }
            } else {
                const sections = document.querySelectorAll('.galeria-seccion');
                sections.forEach(sec => {
                    const track = sec.querySelector('.slider-track');
                    const items = Array.from(sec.querySelectorAll('.galeria-item'));
                    const prev = sec.querySelector('.slider-prev');
                    const next = sec.querySelector('.slider-next');
                    let index = 0;
                    function update() {
                        const viewport = sec.querySelector('.slider-viewport');
                        const w = viewport ? viewport.clientWidth : 0;
                        track.style.display = 'flex';
                        track.style.willChange = 'transform';
                        track.style.transform = `translateX(${-index * w}px)`;
                        track.style.transition = 'transform 300ms ease';
                    }
                    prev?.addEventListener('click', () => { index = Math.max(0, index - 1); update(); });
                    next?.addEventListener('click', () => { index = Math.min(items.length - 1, index + 1); update(); });
                    const thumbsImgs = sec.querySelectorAll('.galeria-thumbs img');
                    thumbsImgs.forEach((t, i) => t.addEventListener('click', () => { index = i; update(); }));
                    window.addEventListener('resize', update);
                    update();
                });
            }
        } catch (e) {
            console.error(e);
        }
    });
    </script>
    <!-- Fallback local: JSON embebido para cuando se abre con file:// y fetch falla por CORS -->
    <script id="bonus-index" type="application/json">
{
  "galerias": [
    {
      "titulo": "Bautismo",
      "carpeta": "img/Bonus/Bautismo",
      "imagenes": [
        "WhatsApp Image 2025-10-26 at 22.11.04.jpeg",
        "WhatsApp Image 2025-10-26 at 22.11.05 (1).jpeg",
        "WhatsApp Image 2025-10-26 at 22.11.05 (2).jpeg",
        "WhatsApp Image 2025-10-26 at 22.11.05.jpeg"
      ]
    },
    {
      "titulo": "Jornada Técnicas de Prompting",
      "carpeta": "img/Bonus/Jornada Técnicas de Prompting",
      "imagenes": [
        "WhatsApp Image 2025-10-26 at 21.56.53 (1).jpeg",
        "WhatsApp Image 2025-10-26 at 21.56.53.jpeg",
        "WhatsApp Image 2025-10-26 at 21.56.55 (4).jpeg"
      ]
    },
    {
      "titulo": "Jornada de Innovación ISSC",
      "carpeta": "img/Bonus/Jornada de Innovación ISSC",
      "imagenes": [
        "WhatsApp Image 2025-10-26 at 21.56.53 (2).jpeg"
      ]
    },
    {
      "titulo": "Lanzamiento manual de Grooming",
      "carpeta": "img/Bonus/Lanzamiento manual de Grooming",
      "imagenes": [
        "WhatsApp Image 2025-10-26 at 21.56.54 (1).jpeg",
        "WhatsApp Image 2025-10-26 at 21.56.54.jpeg",
        "WhatsApp Image 2025-10-26 at 22.16.54.jpeg"
      ]
    },
    {
      "titulo": "Peña de Colectividades",
      "carpeta": "img/Bonus/Peña de Colectividades",
      "imagenes": [
        "WhatsApp Image 2025-10-26 at 21.56.54 (2).jpeg",
        "WhatsApp Image 2025-10-26 at 21.56.54 (3).jpeg",
        "WhatsApp Image 2025-10-26 at 21.56.55 (1).jpeg",
        "WhatsApp Image 2025-10-26 at 21.56.55 (2).jpeg",
        "WhatsApp Image 2025-10-26 at 21.56.55 (3).jpeg",
        "WhatsApp Image 2025-10-26 at 21.56.55.jpeg"
      ]
    },
    {
      "titulo": "Recuerdos",
      "carpeta": "img/Bonus/Recuerdos",
      "imagenes": [
        "WhatsApp Image 2025-10-26 at 21.56.56 (1).jpeg",
        "WhatsApp Image 2025-10-26 at 21.56.56 (2).jpeg",
        "WhatsApp Image 2025-10-26 at 21.56.56.jpeg"
      ]
    }
  ]
}
    </script>

    <script>
    document.addEventListener('DOMContentLoaded', async () => {
        async function cargarDatos() {
            // 1) Intentar leer desde <script id="bonus-index">
            const inline = document.getElementById('bonus-index');
            if (inline && inline.textContent.trim()) {
                try { return JSON.parse(inline.textContent); } catch {}
            }
            // 2) Si hay servidor HTTP, intentar fetch
            try {
                const res = await fetch('img/Bonus/index.json', { cache: 'no-cache' });
                if (!res.ok) throw new Error('No se pudo cargar index.json');
                return await res.json();
            } catch (e) {
                console.warn('Fallback: no se pudo usar fetch (¿file://?).');
                return null;
            }
        }

        const data = await cargarDatos();
        if (!data || !Array.isArray(data.galerias)) return;

        const cont = document.querySelector('main.contenido-materia .contenedor');
        if (!cont) return;

        // Limpiar contenido estático
        cont.innerHTML = '';

        data.galerias.forEach(g => {
            const section = document.createElement('section');
            section.className = 'seccion-contenido galeria-seccion';

            const h2 = document.createElement('h2');
            h2.textContent = g.titulo || 'Galería';
            section.appendChild(h2);

            const carousel = document.createElement('div');
            carousel.className = 'galeria-carousel';

            const btnPrev = document.createElement('button');
            btnPrev.className = 'slider-btn slider-prev';
            btnPrev.setAttribute('aria-label', 'Anterior imagen');
            btnPrev.textContent = '‹';

            const viewport = document.createElement('div');
            viewport.className = 'slider-viewport';
            viewport.setAttribute('tabindex', '0');
            viewport.setAttribute('aria-live', 'polite');

            const track = document.createElement('div');
            track.className = 'slider-track';

            const folder = (g.carpeta || '').replace(/\\/g, '/');
            const encFolder = folder.split('/').map(encodeURIComponent).join('/');

            (g.imagenes || []).forEach(nombre => {
                const fig = document.createElement('figure');
                fig.className = 'galeria-item';
                const img = document.createElement('img');
                img.loading = 'lazy';
                img.src = encFolder + '/' + encodeURIComponent(nombre);
                img.alt = (g.titulo ? g.titulo + ' ' : '') + nombre;
                fig.appendChild(img);
                track.appendChild(fig);
            });

            viewport.appendChild(track);

            const btnNext = document.createElement('button');
            btnNext.className = 'slider-btn slider-next';
            btnNext.setAttribute('aria-label', 'Siguiente imagen');
            btnNext.textContent = '›';

            carousel.appendChild(btnPrev);
            carousel.appendChild(viewport);
            carousel.appendChild(btnNext);
            section.appendChild(carousel);

            const thumbs = document.createElement('div');
            thumbs.className = 'galeria-thumbs';
            thumbs.setAttribute('aria-hidden', 'true');
            (g.imagenes || []).forEach(nombre => {
                const t = document.createElement('img');
                t.src = encFolder + '/' + encodeURIComponent(nombre);
                t.alt = '';
                thumbs.appendChild(t);
            });
            section.appendChild(thumbs);

            cont.appendChild(section);
        });

        // Reinicio del slider
        if (window.initSliders) {
            try { window.initSliders(); } catch (e) { console.warn('initSliders lanzó un error', e); }
        } else {
            const sections = document.querySelectorAll('.galeria-seccion');
            sections.forEach(sec => {
                const track = sec.querySelector('.slider-track');
                const items = Array.from(sec.querySelectorAll('.galeria-item'));
                const prev = sec.querySelector('.slider-prev');
                const next = sec.querySelector('.slider-next');
                let index = 0;
                function update() {
                    const viewport = sec.querySelector('.slider-viewport');
                    const w = viewport ? viewport.clientWidth : 0;
                    track.style.display = 'flex';
                    track.style.transform = `translateX(${-index * w}px)`;
                    track.style.transition = 'transform 300ms ease';
                }
                prev?.addEventListener('click', () => { index = Math.max(0, index - 1); update(); });
                next?.addEventListener('click', () => { index = Math.min(items.length - 1, index + 1); update(); });
                const thumbsImgs = sec.querySelectorAll('.galeria-thumbs img');
                thumbsImgs.forEach((t, i) => t.addEventListener('click', () => { index = i; update(); }));
                window.addEventListener('resize', update);
                update();
            });
        }
    });
    </script>

    <script src="script.js"></script>
</body>
</html>
